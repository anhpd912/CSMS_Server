{
    "info": {
        "_postman_id": "table-mgmt-collection-2025",
        "name": "Table Management API Collection",
        "description": "Comprehensive API testing collection for Coffee Shop Table Management System\n\n**Features Covered:**\n- View List Table (Cashier, Waiter, Manager)\n- Create Table (Waiter, Manager)\n- Update Table (Waiter, Manager)\n- Delete Table (Manager only)\n\n**Authentication:**\nAll endpoints require JWT Bearer token authentication.\n\n**Test Scenarios:**\n1. Authentication (Register & Login)\n2. View all tables with filtering\n3. Create new table\n4. Update table details\n5. Delete table (Manager only)\n6. Status transitions\n7. Error scenarios",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{jwt_token}}",
                "type": "string"
            }
        ]
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8080",
            "type": "string"
        },
        {
            "key": "jwt_token",
            "value": "",
            "type": "string"
        },
        {
            "key": "table_id",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "1. Authentication",
            "item": [
                {
                    "name": "Register Cashier",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('jwt_token', response.token);",
                                    "    console.log('Cashier JWT Token:', response.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"cashier_table_test\",\n    \"password\": \"Test@123\",\n    \"email\": \"cashier_table@test.com\",\n    \"fullName\": \"Table Test Cashier\",\n    \"role\": \"CASHIER\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/auth/register",
                            "host": ["{{base_url}}"],
                            "path": ["api", "auth", "register"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Register Waiter",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('waiter_token', response.token);",
                                    "    console.log('Waiter JWT Token:', response.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"waiter_table_test\",\n    \"password\": \"Test@123\",\n    \"email\": \"waiter_table@test.com\",\n    \"fullName\": \"Table Test Waiter\",\n    \"role\": \"WAITER\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/auth/register",
                            "host": ["{{base_url}}"],
                            "path": ["api", "auth", "register"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Register Manager",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('manager_token', response.token);",
                                    "    console.log('Manager JWT Token:', response.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"manager_table_test\",\n    \"password\": \"Test@123\",\n    \"email\": \"manager_table@test.com\",\n    \"fullName\": \"Table Test Manager\",\n    \"role\": \"MANAGER\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/auth/register",
                            "host": ["{{base_url}}"],
                            "path": ["api", "auth", "register"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Login Cashier",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('jwt_token', response.token);",
                                    "    console.log('JWT Token set:', response.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"cashier_table_test\",\n    \"password\": \"Test@123\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/auth/login",
                            "host": ["{{base_url}}"],
                            "path": ["api", "auth", "login"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Login Waiter",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('jwt_token', response.token);",
                                    "    console.log('Waiter JWT Token set:', response.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"waiter_table_test\",\n    \"password\": \"Test@123\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/auth/login",
                            "host": ["{{base_url}}"],
                            "path": ["api", "auth", "login"]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Login Manager",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('jwt_token', response.token);",
                                    "    console.log('Manager JWT Token set:', response.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"manager_table_test\",\n    \"password\": \"Test@123\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/auth/login",
                            "host": ["{{base_url}}"],
                            "path": ["api", "auth", "login"]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "2. View List Table",
            "item": [
                {
                    "name": "Get All Tables",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"]
                        },
                        "description": "Get all tables (accessible by Cashier, Waiter, Manager)"
                    },
                    "response": []
                },
                {
                    "name": "Get Tables - Filter by Status (Available)",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables?status=Available",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "Available"
                                }
                            ]
                        },
                        "description": "Filter tables by status"
                    },
                    "response": []
                },
                {
                    "name": "Get Tables - Filter by Location",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables?location=Indoor",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"],
                            "query": [
                                {
                                    "key": "location",
                                    "value": "Indoor"
                                }
                            ]
                        },
                        "description": "Filter tables by location"
                    },
                    "response": []
                },
                {
                    "name": "Get Tables - Pagination",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables?page=0&size=10&sort=name,asc",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "0"
                                },
                                {
                                    "key": "size",
                                    "value": "10"
                                },
                                {
                                    "key": "sort",
                                    "value": "name,asc"
                                }
                            ]
                        },
                        "description": "Get tables with pagination"
                    },
                    "response": []
                },
                {
                    "name": "Get Table by ID",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Use a stored table_id or a test UUID",
                                    "if (!pm.collectionVariables.get('table_id')) {",
                                    "    console.log('No table_id set. Please create a table first.');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables/{{table_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "{{table_id}}"]
                        },
                        "description": "Get single table by ID"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "3. Create Table (Waiter/Manager)",
            "item": [
                {
                    "name": "Create Table - Indoor",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201 || pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('table_id', response.id);",
                                    "    console.log('Created Table ID:', response.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 101\",\n    \"location\": \"Indoor\",\n    \"sheetCount\": 4,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"]
                        },
                        "description": "Create a new table (Waiter or Manager role required)"
                    },
                    "response": []
                },
                {
                    "name": "Create Table - Outdoor",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 201\",\n    \"location\": \"Outdoor\",\n    \"sheetCount\": 6,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"]
                        },
                        "description": "Create outdoor table"
                    },
                    "response": []
                },
                {
                    "name": "Create Table - Balcony",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 301\",\n    \"location\": \"Balcony\",\n    \"sheetCount\": 2,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"]
                        },
                        "description": "Create balcony table"
                    },
                    "response": []
                },
                {
                    "name": "Create Table - Validation Error (Empty Name)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"\",\n    \"location\": \"Indoor\",\n    \"sheetCount\": 4,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"]
                        },
                        "description": "Test validation - should return 400 Bad Request"
                    },
                    "response": []
                },
                {
                    "name": "Create Table - Invalid Sheet Count",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 401\",\n    \"location\": \"Indoor\",\n    \"sheetCount\": 0,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"]
                        },
                        "description": "Test validation - sheet count must be at least 1"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "4. Update Table (Waiter/Manager)",
            "item": [
                {
                    "name": "Update Table - Change Status to Occupied",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 101\",\n    \"location\": \"Indoor\",\n    \"sheetCount\": 4,\n    \"status\": \"Occupied\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/{{table_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "{{table_id}}"]
                        },
                        "description": "Update table status to Occupied"
                    },
                    "response": []
                },
                {
                    "name": "Update Table - Change Status to Reserved",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 101\",\n    \"location\": \"Indoor\",\n    \"sheetCount\": 4,\n    \"status\": \"Reserved\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/{{table_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "{{table_id}}"]
                        },
                        "description": "Update table status to Reserved"
                    },
                    "response": []
                },
                {
                    "name": "Update Table - Change Location",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 101\",\n    \"location\": \"Outdoor\",\n    \"sheetCount\": 4,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/{{table_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "{{table_id}}"]
                        },
                        "description": "Update table location"
                    },
                    "response": []
                },
                {
                    "name": "Update Table - Increase Sheet Count",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 101\",\n    \"location\": \"Outdoor\",\n    \"sheetCount\": 6,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/{{table_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "{{table_id}}"]
                        },
                        "description": "Update table sheet count"
                    },
                    "response": []
                },
                {
                    "name": "Update Table - Not Found",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Table 999\",\n    \"location\": \"Indoor\",\n    \"sheetCount\": 4,\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/00000000-0000-0000-0000-000000000000",
                            "host": ["{{base_url}}"],
                            "path": [
                                "api",
                                "tables",
                                "00000000-0000-0000-0000-000000000000"
                            ]
                        },
                        "description": "Test error scenario - table not found"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "5. Delete Table (Manager Only)",
            "item": [
                {
                    "name": "Delete Table by ID",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables/{{table_id}}",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "{{table_id}}"]
                        },
                        "description": "Delete a table (Manager role required)"
                    },
                    "response": []
                },
                {
                    "name": "Delete Table - Not Found",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables/00000000-0000-0000-0000-000000000000",
                            "host": ["{{base_url}}"],
                            "path": [
                                "api",
                                "tables",
                                "00000000-0000-0000-0000-000000000000"
                            ]
                        },
                        "description": "Test error scenario - table not found"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "6. Advanced Queries",
            "item": [
                {
                    "name": "Get Available Tables by Location",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables?status=Available&location=Indoor",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "Available"
                                },
                                {
                                    "key": "location",
                                    "value": "Indoor"
                                }
                            ]
                        },
                        "description": "Find available tables in specific location"
                    },
                    "response": []
                },
                {
                    "name": "Get Tables by Minimum Seat Count",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables?minSheetCount=4",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"],
                            "query": [
                                {
                                    "key": "minSheetCount",
                                    "value": "4"
                                }
                            ]
                        },
                        "description": "Find tables with minimum seat capacity"
                    },
                    "response": []
                },
                {
                    "name": "Get Occupied Tables",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables?status=Occupied",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables"],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "Occupied"
                                }
                            ]
                        },
                        "description": "Get all currently occupied tables"
                    },
                    "response": []
                },
                {
                    "name": "Get Table Statistics",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/tables/statistics",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "statistics"]
                        },
                        "description": "Get statistics about table availability and usage"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "7. Bulk Operations",
            "item": [
                {
                    "name": "Bulk Create Tables",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "[\n    {\n        \"name\": \"Table 1\",\n        \"location\": \"Indoor\",\n        \"sheetCount\": 4,\n        \"status\": \"Available\"\n    },\n    {\n        \"name\": \"Table 2\",\n        \"location\": \"Indoor\",\n        \"sheetCount\": 2,\n        \"status\": \"Available\"\n    },\n    {\n        \"name\": \"Table 3\",\n        \"location\": \"Outdoor\",\n        \"sheetCount\": 6,\n        \"status\": \"Available\"\n    }\n]"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/bulk",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "bulk"]
                        },
                        "description": "Create multiple tables at once"
                    },
                    "response": []
                },
                {
                    "name": "Bulk Update Table Status",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"status\": \"Available\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/tables/bulk/status?location=Indoor",
                            "host": ["{{base_url}}"],
                            "path": ["api", "tables", "bulk", "status"],
                            "query": [
                                {
                                    "key": "location",
                                    "value": "Indoor"
                                }
                            ]
                        },
                        "description": "Update status for all tables matching criteria"
                    },
                    "response": []
                }
            ]
        }
    ]
}
